<!doctype html>
<html lang="id" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Islamic Studies Quiz</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        .question-card {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }
        
        .question-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .option-button {
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }
        
        .option-button:hover {
            transform: translateX(4px);
            border-color: #a78bfa;
        }
        
        .option-button.selected {
            background: linear-gradient(135deg, #a78bfa 0%, #8b5cf6 100%);
            color: white;
            border-color: #7c3aed;
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #fbbf24 0%, #f59e0b 100%);
            transition: width 0.5s ease;
        }
        
        .icon-container {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .geometric-bg {
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(168, 85, 247, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(251, 191, 36, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(139, 92, 246, 0.05) 0%, transparent 50%);
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full geometric-bg">
  <main class="min-h-full p-4 md:p-8">
   <div class="max-w-4xl mx-auto"><!-- Header -->
    <header class="text-center mb-8 fade-in">
     <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl mb-4 shadow-lg">
      <svg class="w-8 h-8 text-white" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2L2 7v10c0 5.55 3.84 9.739 9 11 5.16-1.261 9-5.45 9-11V7l-10-5z" /> <path d="M8 11l2 2 4-4" stroke="white" stroke-width="2" fill="none" />
      </svg>
     </div>
     <h1 id="quiz-title" class="text-3xl md:text-4xl font-bold text-gray-800 mb-2">ULANGAN HARIAN PAI</h1>
     <p class="text-gray-600 text-lg">Uji pemahaman pembelajaran PAI Kelas 4 SDN Ujung Menteng 03</p>
    </header><!-- Progress Bar -->
    <div class="mb-8 fade-in">
     <div class="flex justify-between items-center mb-2"><span class="text-sm font-medium text-gray-600">Progress</span> <span id="progress-text" class="text-sm font-medium text-gray-600">0/15</span>
     </div>
     <div class="w-full bg-gray-200 rounded-full h-3 shadow-inner">
      <div id="progress-bar" class="progress-bar h-3 rounded-full" style="width: 0%"></div>
     </div>
    </div><!-- Quiz Container -->
    <div id="quiz-container" class="space-y-6"><!-- Questions will be dynamically inserted here -->
    </div><!-- Navigation -->
    <div class="flex justify-between items-center mt-8 pt-6 border-t border-gray-200"><button id="prev-btn" class="px-6 py-3 bg-gray-100 text-gray-600 rounded-xl font-medium hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled> ‚Üê Sebelumnya </button> <button id="next-btn" class="px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl font-medium hover:from-purple-600 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed"> Selanjutnya ‚Üí </button> <button id="submit-btn" class="px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl font-medium hover:from-green-600 hover:to-green-700 transition-all shadow-lg hover:shadow-xl hidden"> Selesai ‚úì </button>
    </div><!-- Results -->
    <div id="results" class="hidden mt-8 space-y-6"><!-- Score Summary -->
     <div class="p-8 bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl border-2 border-green-200 text-center">
      <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl mb-4 shadow-lg">
       <svg class="w-8 h-8 text-white" fill="currentColor" viewbox="0 0 24 24"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
       </svg>
      </div>
      <h2 class="text-2xl font-bold text-gray-800 mb-2">Kuis Selesai!</h2>
      <p id="completion-message" class="text-gray-600 text-lg mb-4">Terima kasih telah mengerjakan kuis ini.</p>
      <div id="score-display" class="mb-6">
       0/15
      </div>
      <div class="flex gap-4 justify-center"><button id="review-btn" class="px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl font-medium hover:from-blue-600 hover:to-blue-700 transition-all shadow-lg hover:shadow-xl"> üìã Lihat Pembahasan </button> <button id="restart-btn" class="px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl font-medium hover:from-purple-600 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl"> üîÑ Mulai Ulang </button>
      </div>
     </div><!-- Answer Review -->
     <div id="answer-review" class="hidden space-y-4">
      <h3 class="text-xl font-bold text-gray-800 mb-4">üìã Pembahasan Jawaban</h3>
      <div id="review-content"></div>
      <div class="text-center pt-4"><button id="back-to-results" class="px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-xl font-medium hover:from-gray-600 hover:to-gray-700 transition-all shadow-lg hover:shadow-xl"> ‚Üê Kembali ke Hasil </button>
      </div>
     </div>
    </div>
   </div>
  </main>
  <script>
        // Default configuration
        const defaultConfig = {
            quiz_title: "Kuis Studi Islam",
            completion_message: "Terima kasih telah mengerjakan kuis ini."
        };

        // Quiz data
        const quizData = [
            {
                question: "Selain keturunan, apa lagi yang disebut sebagai dasar kesombongan yang tidak disukai Allah Swt.?",
                options: [
                    "Kekayaan dan kepangkatan.",
                    "Ketaatan beribadah.",
                    "Kekuatan fisik dan kecerdasan.",
                    "Banyaknya hafalan Al-Qur'an."
                ],
                correctAnswer: 0,
                icon: "üí∞"
            },
            {
                question: "Sebagai wakil Allah Swt. di bumi, manusia memiliki mandat untuk mengelola kelestarian planet dan...",
                options: [
                    "Menaklukkan semua bangsa yang berbeda.",
                    "Mencipta suasana harmoni dan damai.",
                    "Mengumpulkan kekayaan sebanyak-banyaknya.",
                    "Membuktikan bahwa sukunya adalah yang terbaik."
                ],
                correctAnswer: 1,
                icon: "üåç"
            },
            {
                question: "Apa keutamaan spesifik yang akan didapat oleh penghafal Al-Qur'an di akhirat kelak, menurut Al-Qur'an?",
                options: [
                    "Mendapat pahala berlipat ganda.",
                    "Menjadi raja di surga."
                    "Dibebaskan dari hisab.",
                    "Mendapat syafa'at."
                ],
                correctAnswer: 3,
                icon: "üìñ"
            },
            {
                question: "Allah Swt berfirman. pasti menolong hamba-Nya yang bertekad menghafal Al-Qur'an. Apa bukti yang disebutkan untuk hal ini?",
                options: [
                    "Turunnya malaikat untuk membantu.",
                    "Mudahnya proses menghafal.",
                    "Adanya jaminan masuk surga.",
                    "Banyaknya penghafal Al-Qur'an."
                ],
                correctAnswer: 3,
                icon: "ü§≤"
            },
            {
                question: "Dalam mengelola kekuasaan-Nya sebagai Al-MƒÅlik, Allah Swt. menyeimbangkan antara keadilan, kebaikan, hikmah, maslahat, dan...",
                options: [
                    "Kecepatan.",
                    "Hukuman.",
                    "Rahmat.",
                    "Kekuatan."
                ],
                correctAnswer: 2,
                icon: "‚öñÔ∏è"
            },
            {
                question: "Manakah dari perbuatan berikut yang secara spesifik disebut dalam Al-Qur'an sebagai contoh kewenangan Allah Swt. sebagai Al-MƒÅlik?",
                options: [
                    "Menjaga kelestarian planet bumi.",
                    "Mengangkat dan merendahkan derajat seseorang.",
                    "Memberi syafa'at di akhirat.",
                    "Memberi rasa aman bagi yang beriman."
                ],
                correctAnswer: 1,
                icon: "üëë"
            },
            {
                question: "Arti Al-Qudd≈´s adalah Mahasuci. Al-Qur'an juga menyebutkan bahwa Allah Swt. Mahasuci dari...",
                options: [
                    "Keadilan dan hikmah.",
                    "Menyamai makhluk dengan-Nya.",
                    "Pemberian rezeki.",
                    "Pengaturan urusan makhluk."
                ],
                correctAnswer: 1,
                icon: "‚ú®"
            },
            {
                question: "Sebagai konsekuensi dari sifat Al-Qudd≈´s, Allah Swt. adalah satu-satunya...",
                options: [
                    "Pemberi rasa aman.",
                    "Pemberi rezeki.",
                    "Sembahan bagi semua makhluk.",
                    "Pencipta manusia."
                ],
                correctAnswer: 2,
                icon: "üïå"
            },
            {
                question: "Selain memberi rasa aman, Al-Mu'min juga mempunyai pengertian bahwa Allah Swt. ...",
                options: [
                    "Mengatur kehidupan dan kematian.",
                    "Menepati janji-Nya kepada orang beriman.",
                    "Tersucikan dari segala kekurangan.",
                    "Membalas orang yang zalim."
                ],
                correctAnswer: 1,
                icon: "üõ°Ô∏è"
            },
            {
                question: "Dalam menghadapi keragaman, manusia diminta untuk saling berlapang dada dan...",
                options: [
                    "Menjaga jarak agar tidak terjadi konflik.",
                    "Berkompetisi untuk membuktikan siapa yang terbaik.",
                    "Selalu waspada terhadap perbedaan.",
                    "Bertenggang rasa."
                ],
                correctAnswer: 3,
                icon: "ü§ù"
            },
            {
                question: "Siapakah yang mengatur segala urusan makhluk, kehidupan, dan kematian menurut sifat Al-MƒÅlik?",
                options: [
                    "Hukum alam yang berjalan otomatis.",
                    "Para malaikat atas perintah Allah Swt.",
                    "Allah Swt. sendiri tanpa bantuan.",
                    "Manusia sebagai wakil Allah Swt."
                ],
                correctAnswer: 2,
                icon: "üåü"
            },
            {
                question: "Makna Al-Qudd≈´s yang juga ditekankan selain 'tersucikan dari kekurangan' adalah...",
                options: [
                    "Mahasuci dari kebutuhan akan sembahan.",
                    "Mahasuci dari menyerupai makhluk dengan-Nya.",
                    "Mahasuci dari sifat tidak adil.",
                    "Mahasuci dari sifat memberi hukuman."
                ],
                correctAnswer: 1,
                icon: "üíé"
            },
            {
                question: "Q.S. Al-·∏§ujurƒÅt/49:13 menjelaskan bahwa semua manusia pada dasarnya berasal dari...",
                options: [
                    "Seorang pria dan seorang wanita.",
                    "Leluhur yang tidak diketahui.",
                    "Berbagai negara yang berbeda.",
                    "Suku yang paling mulia."
                ],
                correctAnswer: 0,
                icon: "üë•"
            },
            {
                question: "Apa tujuan utama Allah Swt. menciptakan manusia berbangsa-bangsa dan bersuku-suku?",
                options: [
                    "Untuk saling berperang.",
                    "Untuk saling mengenal (lita'arafu).",
                    "Agar tetap terpisah satu sama lain.",
                    "Untuk menentukan siapa yang paling kaya."
                ],
                correctAnswer: 1,
                icon: "üåê"
            },
            {
                question: "Sebagai cerminan sifat Al-Mu'min, apa yang harus kita lakukan?",
                options: [
                    "Berusaha menghafal Al-Qur'an.",
                    "Berusaha menciptakan keamanan bagi sekitar.",
                    "Berusaha menjadi penguasa.",
                    "Berusaha untuk suci dari dosa."
                ],
                correctAnswer: 1,
                icon: "üïäÔ∏è"
            }
        ];

        // Quiz state
        let currentQuestion = 0;
        let answers = {};
        let quizCompleted = false;

        // DOM elements
        const quizContainer = document.getElementById('quiz-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const results = document.getElementById('results');
        const scoreDisplay = document.getElementById('score-display');
        const restartBtn = document.getElementById('restart-btn');
        const reviewBtn = document.getElementById('review-btn');
        const answerReview = document.getElementById('answer-review');
        const reviewContent = document.getElementById('review-content');
        const backToResultsBtn = document.getElementById('back-to-results');

        // Initialize quiz
        function initQuiz() {
            renderQuestion();
            updateProgress();
            updateNavigation();
        }

        // Render current question
        function renderQuestion() {
            const question = quizData[currentQuestion];
            
            quizContainer.innerHTML = `
                <div class="question-card rounded-2xl p-6 md:p-8 shadow-lg fade-in">
                    <div class="flex items-start gap-4 mb-6">
                        <div class="icon-container flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center text-2xl shadow-md">
                            ${question.icon}
                        </div>
                        <div class="flex-1">
                            <div class="text-sm font-medium text-purple-600 mb-2">Pertanyaan ${currentQuestion + 1} dari ${quizData.length}</div>
                            <h2 class="text-xl md:text-2xl font-bold text-gray-800 leading-relaxed">${question.question}</h2>
                        </div>
                    </div>
                    
                    <div class="space-y-3">
                        ${question.options.map((option, index) => `
                            <button class="option-button w-full p-4 text-left bg-white rounded-xl shadow-sm hover:shadow-md font-medium text-gray-700 ${answers[currentQuestion] === index ? 'selected' : ''}" 
                                    onclick="selectAnswer(${index})">
                                <span class="inline-flex items-center justify-center w-6 h-6 bg-gray-100 text-gray-600 rounded-full text-sm font-bold mr-3">${String.fromCharCode(65 + index)}</span>
                                ${option}
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Select answer
        function selectAnswer(optionIndex) {
            answers[currentQuestion] = optionIndex;
            renderQuestion();
            updateNavigation();
        }

        // Update progress
        function updateProgress() {
            const answeredQuestions = Object.keys(answers).length;
            const progress = (answeredQuestions / quizData.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressText.textContent = `${answeredQuestions}/${quizData.length}`;
        }

        // Update navigation
        function updateNavigation() {
            prevBtn.disabled = currentQuestion === 0;
            
            if (currentQuestion === quizData.length - 1) {
                nextBtn.classList.add('hidden');
                submitBtn.classList.remove('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                submitBtn.classList.add('hidden');
                nextBtn.disabled = answers[currentQuestion] === undefined;
            }
        }

        // Navigation handlers
        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 0) {
                currentQuestion--;
                renderQuestion();
                updateNavigation();
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestion < quizData.length - 1 && answers[currentQuestion] !== undefined) {
                currentQuestion++;
                renderQuestion();
                updateNavigation();
            }
        });

        submitBtn.addEventListener('click', () => {
            if (answers[currentQuestion] !== undefined) {
                completeQuiz();
            }
        });

        // Show answer review
        function showReview() {
            let reviewHTML = '';
            
            quizData.forEach((question, index) => {
                const userAnswer = answers[index];
                const correctAnswer = question.correctAnswer;
                const isCorrect = userAnswer === correctAnswer;
                
                reviewHTML += `
                    <div class="question-card rounded-2xl p-6 shadow-lg mb-4">
                        <div class="flex items-start gap-4 mb-4">
                            <div class="icon-container flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center text-xl shadow-md">
                                ${question.icon}
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center gap-2 mb-2">
                                    <span class="text-sm font-medium text-gray-600">Soal ${index + 1}</span>
                                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${isCorrect ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                                        ${isCorrect ? '‚úì Benar' : '‚úó Salah'}
                                    </span>
                                </div>
                                <h4 class="text-lg font-semibold text-gray-800 mb-3">${question.question}</h4>
                            </div>
                        </div>
                        
                        <div class="space-y-2 ml-14">
                            ${question.options.map((option, optIndex) => {
                                let bgClass = 'bg-gray-50';
                                let textClass = 'text-gray-700';
                                let icon = '';
                                
                                if (optIndex === correctAnswer) {
                                    bgClass = 'bg-green-100 border-green-300';
                                    textClass = 'text-green-800';
                                    icon = '‚úì ';
                                } else if (optIndex === userAnswer && userAnswer !== correctAnswer) {
                                    bgClass = 'bg-red-100 border-red-300';
                                    textClass = 'text-red-800';
                                    icon = '‚úó ';
                                }
                                
                                return `
                                    <div class="p-3 rounded-lg border-2 ${bgClass} ${textClass}">
                                        <span class="font-medium">${String.fromCharCode(65 + optIndex)}.</span> ${icon}${option}
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                `;
            });
            
            reviewContent.innerHTML = reviewHTML;
            document.querySelector('.p-8.bg-gradient-to-br').classList.add('hidden');
            answerReview.classList.remove('hidden');
        }

        // Event listeners
        reviewBtn.addEventListener('click', showReview);
        
        backToResultsBtn.addEventListener('click', () => {
            answerReview.classList.add('hidden');
            document.querySelector('.p-8.bg-gradient-to-br').classList.remove('hidden');
        });

        restartBtn.addEventListener('click', () => {
            currentQuestion = 0;
            answers = {};
            quizCompleted = false;
            results.classList.add('hidden');
            answerReview.classList.add('hidden');
            document.querySelector('.p-8.bg-gradient-to-br').classList.remove('hidden');
            quizContainer.classList.remove('hidden');
            document.querySelector('.max-w-4xl > div:nth-child(3)').classList.remove('hidden'); // Progress bar
            document.querySelector('.flex.justify-between.items-center.mt-8').classList.remove('hidden'); // Navigation
            initQuiz();
        });

        // Calculate score
        function calculateScore() {
            let correctAnswers = 0;
            for (let i = 0; i < quizData.length; i++) {
                if (answers[i] === quizData[i].correctAnswer) {
                    correctAnswers++;
                }
            }
            return correctAnswers;
        }

        // Get grade based on score
        function getGrade(score, total) {
            const percentage = (score / total) * 100;
            if (percentage >= 90) return { grade: 'A', color: 'text-green-600', message: 'Luar biasa!' };
            if (percentage >= 80) return { grade: 'B', color: 'text-blue-600', message: 'Bagus sekali!' };
            if (percentage >= 70) return { grade: 'C', color: 'text-yellow-600', message: 'Cukup baik!' };
            if (percentage >= 60) return { grade: 'D', color: 'text-orange-600', message: 'Perlu belajar lagi!' };
            return { grade: 'E', color: 'text-red-600', message: 'Harus lebih giat belajar!' };
        }

        // Complete quiz
        function completeQuiz() {
            quizCompleted = true;
            const correctScore = calculateScore();
            const totalQuestions = quizData.length;
            const percentage = Math.round((correctScore / totalQuestions) * 100);
            const gradeInfo = getGrade(correctScore, totalQuestions);
            
            quizContainer.classList.add('hidden');
            document.querySelector('.max-w-4xl > div:nth-child(3)').classList.add('hidden'); // Progress bar
            document.querySelector('.flex.justify-between.items-center.mt-8').classList.add('hidden'); // Navigation
            results.classList.remove('hidden');
            
            // Update results display
            scoreDisplay.innerHTML = `
                <div class="space-y-2">
                    <div class="text-4xl font-bold ${gradeInfo.color}">${correctScore}/${totalQuestions}</div>
                    <div class="text-2xl font-bold ${gradeInfo.color}">Nilai: ${gradeInfo.grade}</div>
                    <div class="text-lg text-gray-600">${percentage}% - ${gradeInfo.message}</div>
                </div>
            `;
        }

        // Element SDK configuration
        async function onConfigChange(config) {
            const titleElement = document.getElementById('quiz-title');
            const messageElement = document.getElementById('completion-message');
            
            if (titleElement) {
                titleElement.textContent = config.quiz_title || defaultConfig.quiz_title;
            }
            if (messageElement) {
                messageElement.textContent = config.completion_message || defaultConfig.completion_message;
            }
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["quiz_title", config.quiz_title || defaultConfig.quiz_title],
                ["completion_message", config.completion_message || defaultConfig.completion_message]
            ]);
        }

        // Initialize Element SDK
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities,
                mapToEditPanelValues
            });
        }

        // Initialize quiz when page loads
        document.addEventListener('DOMContentLoaded', initQuiz);
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99f3920f6259d8ca',t:'MTc2MzI2MDI3MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>